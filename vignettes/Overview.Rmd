---
title: "Overview Vignette for CancerCellLineModelling Package"
author: "Phil Chapman"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette: 
    toc: true
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo=FALSE, message=FALSE}
library(CancerCellLineModelling)
library(dplyr)
```

## Introduction
Intro - aim of package.  See CancerCellLines package on github

## Univariate analysis
BUilds from the `makeRespVsGeneticDataFrame` function output.  Simple to use:

```{r}

con <- setupSQLite('~/BigData/CellLineData/CancerCellLines.db')
genelist <- c('BRAF', 'TP53', 'PTEN', 'NRAS', 'DGAT1')
drugs <- c('PLX4720', 'Nutlin-3', 'AZD6244')
cell_lines <- src_sqlite(con@dbname) %>% tbl('ccle_drug_data') %>% filter(Compound %in% drugs) %>% select(CCLE_name) %>%     distinct() %>% collect() %>% as.data.frame

my_df <-  makeRespVsGeneticDataFrame(con, 
                                     genelist, 
                                     cell_lines$CCLE_name, 
                                     drug = drugs, 
                                     data_types=c('cosmicclp', 'hybcap'), 
                                     drug_df=NULL)
res_df <- univariateAnalysis(my_df)
res_df <- univariateAnalysisFDR(res_df, 5)


```



